{% extends "!layout.html" %}

{% block sidebartitle %}
{{ super() }}
<div class="version-switcher" style="margin-top: 10px; z-index: 9999;">
    <label for="version-select" style="color:white; display:block; margin-bottom: 4px;">
        Version:
    </label>
    <select id="version-select" onchange="window.location.href=this.value">
        <option value="/humble/">humble</option>
        <option value="/jazzy/">jazzy</option>
        <option value="/main/">main</option>
        <option value="/test/">test</option>
    </select>

    <script>
        const select = document.getElementById('version-select');
        const pathParts = window.location.pathname.split('/');
        const current = pathParts[1]; // first folder after root
        for (let option of select.options) {
            if (option.value.replace(/\//g, '') === current) {
                option.selected = true;
            }
        }
    </script>
</div>
{% endblock %}

{% block content %}
{{ super() }}
{% endblock %}